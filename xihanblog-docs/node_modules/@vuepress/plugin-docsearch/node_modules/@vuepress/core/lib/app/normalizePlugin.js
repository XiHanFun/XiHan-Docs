"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.normalizePlugin = void 0;
const shared_1 = require("@vuepress/shared");
const utils_1 = require("@vuepress/utils");
const resolvePluginByName_1 = require("./resolvePluginByName");
const normalizePlugin = (app, plugin, config) => {
    const resolvedPlugin = shared_1.isString(plugin)
        ? resolvePluginByName_1.resolvePluginByName(plugin)
        : plugin;
    if (resolvedPlugin === null) {
        const message = `plugin ${plugin} is not found`;
        utils_1.logger.error(message);
        throw new Error(message);
    }
    const pluginObject = shared_1.isFunction(resolvedPlugin)
        ? resolvedPlugin(config !== null && config !== void 0 ? config : {}, app)
        : resolvedPlugin;
    return pluginObject;
};
exports.normalizePlugin = normalizePlugin;
//# sourceMappingURL=normalizePlugin.js.map